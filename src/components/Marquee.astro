---
interface Props {
  items: Array<string>;
  reverse?: boolean;
  seconds?: string;
  gap?: string;
}

const { items, reverse, seconds = "30s", gap = "0.5rem" } = Astro.props;
---

<main class="relative flex w-full overflow-hidden">
  <span
    class="absolute top-0 bottom-0 left-0 z-10 self-stretch w-10 md:w-40 bg-gradient-to-r from-black to-transparent"
  ></span>

  <ul class:list={["flex shrink-0", { reverse }]}>
    {
      items.map((item) => (
        <li class="px-8 py-4 text-sm text-gray-300 transition-colors rounded-lg whitespace-nowrap bg-zinc-900">
          {item}
        </li>
      ))
    }
  </ul>
  <ul class:list={["flex shrink-0", { reverse }]}>
    {
      items.map((item) => (
        <li class="px-8 py-4 text-sm text-gray-300 transition-colors rounded-lg whitespace-nowrap bg-zinc-900">
          {item}
        </li>
      ))
    }
  </ul>

  <span
    class="absolute top-0 bottom-0 right-0 z-10 self-stretch w-10 md:w-40 bg-gradient-to-l from-black to-transparent"
  ></span>
</main>

<style define:vars={{ seconds, gap }}>
  main {
    gap: var(--gap);
  }

  ul {
    animation: marquee var(--seconds) linear infinite;
    gap: var(--gap);
  }

  .reverse {
    animation-direction: reverse;
  }

  @keyframes marquee {
    0% {
      transform: translateX(0);
    }
    100% {
      transform: translateX(calc(-100% - var(--gap)));
    }
  }
</style>
